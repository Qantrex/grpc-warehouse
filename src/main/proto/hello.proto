syntax = "proto3";

option java_multiple_files = true;
option java_package = "io.grpc.examples.dwh";
option java_outer_classname = "DwhProto";

package dwh;

// The new DataWarehouse service definition.
service DataWarehouseService {
  // Transfers a warehouse record
  rpc TransferWarehouseRecord (WarehouseRecord) returns (TransferReply) {}
}

// Defines a Product. I've assumed these fields.
message Product {
  string productID = 1;
  string productName = 2;
  int32 quantity = 3;
}

// The request message containing the warehouse data.
message WarehouseRecord {
  string warehouseID = 1;
  string warehouseName = 2;
  string warehouseAddress = 3;
  string warehousePostalCode = 4;
  string warehouseCity = 5;
  string warehouseCountry = 6;
  string timestamp = 7;
  repeated Product products = 8; // 'repeated' creates a list of Products
}

// The response message confirming the transfer
message TransferReply {
  string message = 1;
  bool success = 2;
}